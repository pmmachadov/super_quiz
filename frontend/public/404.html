<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Quiz - Redireccionando</title>
    <script>
        (function() {
            const l = window.location;
            const base = '/super_quiz/'; // Your GitHub Pages repository name as the base path

            let intendedPath = '';
            if (l.pathname.startsWith(base)) {
                intendedPath = l.pathname.substring(base.length);
            } else {
                intendedPath = l.pathname.startsWith('/') ? l.pathname.substring(1) : l.pathname;
            }

            // Remove leading/trailing slashes from intendedPath for cleaner hash
            intendedPath = intendedPath.replace(/^\/+|\/+$/g, '');

            window.location.replace(
                l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
                base +
                'index.html#/' + // Ensure a leading slash for the hash path
                intendedPath +
                l.search +
                l.hash
            );
        })();
    </script>
</head>

<body>
    <h1>Redireccionando...</h1>
    <p>Si no eres redirigido automáticamente, <a id="redirect-link" href="#">haz clic aquí</a>.</p>
    <script>
        // Update the fallback link dynamically
        (function() {
            const link = document.getElementById('redirect-link');
            const l = window.location;
            const base = '/super_quiz/';
            let intendedPath = '';
            if (l.pathname.startsWith(base)) {
                intendedPath = l.pathname.substring(base.length);
            } else {
                intendedPath = l.pathname.startsWith('/') ? l.pathname.substring(1) : l.pathname;
            }
            intendedPath = intendedPath.replace(/^\/+|\/+$/g, '');
            link.href = l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
                               base + 'index.html#/' + intendedPath + l.search + l.hash;
        })();
    </script>
</body>

</html>